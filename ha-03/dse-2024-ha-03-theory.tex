
\documentclass[12pt]{article}

% \usepackage{physics}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,
    }

\usepackage{tikzducks}

\usepackage{tikz} % картинки в tikz
\usepackage{microtype} % свешивание пунктуации

\usepackage{array} % для столбцов фиксированной ширины

\usepackage{indentfirst} % отступ в первом параграфе

\usepackage{sectsty} % для центрирования названий частей
\allsectionsfont{\centering}

\usepackage{amsmath, amsfonts, amssymb} % куча стандартных математических плюшек

\usepackage{comment}

\usepackage[top=2cm, left=1.2cm, right=1.2cm, bottom=2cm]{geometry} % размер текста на странице

\usepackage{lastpage} % чтобы узнать номер последней страницы

\usepackage{enumitem} % дополнительные плюшки для списков
%  например \begin{enumerate}[resume] позволяет продолжить нумерацию в новом списке
\usepackage{caption}

\usepackage{url} % to use \url{link to web}


\newcommand{\smallduck}{\begin{tikzpicture}[scale=0.3]
    \duck[
        cape=black,
        hat=black,
        mask=black
    ]
    \end{tikzpicture}}

\usepackage{fancyhdr} % весёлые колонтитулы
\pagestyle{fancy}
\lhead{Fall 2024}
\chead{HA-3, theory}
\rhead{Data Science for Economists}
\lfoot{}
\cfoot{}
\rfoot{}

\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\usepackage{tcolorbox} % рамочки!

\usepackage{todonotes} % для вставки в документ заметок о том, что осталось сделать
% \todo{Здесь надо коэффициенты исправить}
% \missingfigure{Здесь будет Последний день Помпеи}
% \listoftodos - печатает все поставленные \todo'шки


% более красивые таблицы
\usepackage{booktabs}
% заповеди из докупентации:
% 1. Не используйте вертикальные линни
% 2. Не используйте двойные линии
% 3. Единицы измерения - в шапку таблицы
% 4. Не сокращайте .1 вместо 0.1
% 5. Повторяющееся значение повторяйте, а не говорите "то же"


\setcounter{MaxMatrixCols}{20}
% by crazy default pmatrix supports only 10 cols :)


\usepackage{fontspec}
\usepackage{libertine}
\usepackage{polyglossia}

\setmainlanguage{russian}
\setotherlanguages{english}

% download "Linux Libertine" fonts:
% http://www.linuxlibertine.org/index.php?id=91&L=1
% \setmainfont{Linux Libertine O} % or Helvetica, Arial, Cambria
% why do we need \newfontfamily:
% http://tex.stackexchange.com/questions/91507/
% \newfontfamily{\cyrillicfonttt}{Linux Libertine O}

\AddEnumerateCounter{\asbuk}{\russian@alph}{щ} % для списков с русскими буквами
% \setlist[enumerate, 2]{label=\asbuk*),ref=\asbuk*}

%% эконометрические сокращения
\DeclareMathOperator{\pCorr}{\mathrm{pCorr}}
\DeclareMathOperator{\Cov}{\mathbb{C}ov}
\DeclareMathOperator{\Corr}{\mathbb{C}orr}
\DeclareMathOperator{\Var}{\mathbb{V}ar}
\DeclareMathOperator{\col}{col}
\DeclareMathOperator{\row}{row}

\let\P\relax
\DeclareMathOperator{\P}{\mathbb{P}}

\DeclareMathOperator{\E}{\mathbb{E}}
% \DeclareMathOperator{\tr}{trace}
\DeclareMathOperator{\card}{card}

\DeclareMathOperator{\Convex}{Convex}

\newcommand \cN{\mathcal{N}}
\newcommand \dN{\mathcal{N}}
\newcommand \dBin{\mathrm{Bin}}

\newcommand{\hb}{\hat{\beta}}
\DeclareMathOperator{\loss}{loss}
\DeclareMathOperator{\rank}{rank}

\usepackage{mathtools}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}

\newcommand \RR{\mathbb{R}}
\newcommand \NN{\mathbb{N}}





\begin{document}

% \begin{enumerate}
%     \item entropy
%     \item horse betting
%     \item bootstrap 
%     \item regression tree
%     \item classification tree / logistic function 
%     \item random forest/gradient boosting
% \end{enumerate}

\begin{enumerate}
    \item We have two absolutely identical preliminary standardized regressors $x$ and $x$. 
    The dependent variable $y$ is centered.
    
    In the ridge regression one minimizes the loss function
    \[
    \loss(\hb) = (y - \hat y)^T (y - \hat y) + \lambda \hb^T \hb, \quad \hat y = \hb_1 x + \hb_2 x.
    \]
    \begin{enumerate}
      \item Find the optimal $\hb_1$ and $\hb_2$ for fixed $\lambda$.
      \item What happens to the estimates when $\lambda\to\infty$?
      \item What happens to the sum $\hb_1 + \hb_2$ when $\lambda\to 0$?
    \end{enumerate}
    
    \item Consider the model $y = X\beta + u$ where $\beta$ is non-random,
    $\E(u \mid X ) = 0$, the matrix $X$ of size $n\times k$ has $\rank X = k$, 
    but $\Var(u \mid X) = \sigma^2 W$ with $W \neq I$.
    Let $\hb$ be the standard OLS estimator of $\beta$.

    \begin{enumerate}
        \item Find $\E(\hb \mid X)$, $\E(\hb)$.
        \item Find $\Var(\hb \mid X)$.
        \item How do you think, will the standard confidence interval for $\beta$ be valid in this case?
        \item Find $\Cov(y, \hb \mid X)$.
    \end{enumerate}

    
    \item % 
    Consider the matrix 
    \[
    X = \begin{pmatrix}
        2 & 1 \\
        -1 & 2 \\
        1 & 1 \\
    \end{pmatrix}.
    \]
    \begin{enumerate}
        \item Find the matrix $X^T X$ and diagonalize it.
        \item Find the SVD of $X$.
        \item Find the best approximation to $X$ with rank equal to $1$. 
    \end{enumerate}

    Remark: in the principal component analysis the variables in the matrix $X$ should be standardized.
    If you can't do this by bare hands, feel free to use python, but provide code!

    \item The columns of $X$ are standardized. 
    You know the SVD of the matrix $X = UDV^T$. 
    The diagonal elements of $D$ are positive and ordered from highest to lowest, $d_{11} > d_{22} > \dots > 0$.
    
    Let's maximize $\norm{Xw}^2$ by choosing an optimal vector $w$ subject to $\norm{w}^2 = 1$.
    
    \begin{enumerate}[resume]
        \item Write the Lagrangian function for this problem. 
        \item Find the first order conditions. Differential is your friend!
        \item Find the optimal $w$ in terms of columns of $V$. 
    \end{enumerate}

    Hint: one may interpret the FOC in terms of eigenvalues and eigenvectors!

\end{enumerate}


\end{document}
